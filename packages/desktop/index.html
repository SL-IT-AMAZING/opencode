<!doctype html>
<html lang="en" style="background-color: var(--background-base)">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenCode</title>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#F8F7F7" />
    <meta name="theme-color" content="#131010" media="(prefers-color-scheme: dark)" />
    <meta property="og:image" content="/social-share.png" />
    <meta property="twitter:image" content="/social-share.png" />
    <style>
      /* Prevent ALL scrolling in Tauri webview - use clip not hidden */
      * { scroll-behavior: auto !important; }
      html, body, #root {
        overflow: clip !important;
        overscroll-behavior: none !important;
      }
    </style>
    <script>
      // Nuclear option: prevent ALL unwanted scrolling in Tauri
      (function() {
        // 1. Disable scrollIntoView completely
        Element.prototype.scrollIntoView = function() {};

        // 2. Disable focus scrolling - force preventScroll on all focus calls
        var origFocus = HTMLElement.prototype.focus;
        HTMLElement.prototype.focus = function(options) {
          origFocus.call(this, Object.assign({}, options, { preventScroll: true }));
        };

        // 3. Block scroll events on window/document level
        window.addEventListener('scroll', function(e) {
          window.scrollTo(0, 0);
        }, { capture: true, passive: false });

        document.addEventListener('scroll', function(e) {
          if (e.target === document || e.target === document.documentElement || e.target === document.body) {
            window.scrollTo(0, 0);
          }
        }, { capture: true, passive: false });
      })();
    </script>
    <script id="oc-theme-preload-script">
      ;(function () {
        var themeId = localStorage.getItem("opencode-theme-id")
        if (!themeId) return

        var scheme = localStorage.getItem("opencode-color-scheme") || "system"
        var isDark = scheme === "dark" || (scheme === "system" && matchMedia("(prefers-color-scheme: dark)").matches)
        var mode = isDark ? "dark" : "light"

        document.documentElement.dataset.theme = themeId
        document.documentElement.dataset.colorScheme = mode

        if (themeId === "oc-1") return

        var css = localStorage.getItem("opencode-theme-css-" + themeId + "-" + mode)
        if (css) {
          var style = document.createElement("style")
          style.id = "oc-theme-preload"
          style.textContent =
            ":root{color-scheme:" +
            mode +
            ";--text-mix-blend-mode:" +
            (isDark ? "plus-lighter" : "multiply") +
            ";" +
            css +
            "}"
          document.head.appendChild(style)
        }
      })()
    </script>
  </head>
  <body class="antialiased overscroll-none text-12-regular overflow-hidden">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root" class="flex flex-col h-screen"></div>
    <script src="/src/index.tsx" type="module"></script>
  </body>
</html>
